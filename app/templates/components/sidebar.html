<aside class="w-64 bg-white shadow-lg p-4 flex flex-col">
    <h1 class="text-xl font-bold text-gray-800 mb-6">診療情報提供書作成</h1>

    <div class="space-y-4 flex-1">
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">診療科</label>
            <select x-model="settings.department" @change="updateDoctors()"
                    class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500">
                {% for dept in departments %}
                <option value="{{ dept }}">{{ '全科共通' if dept == 'default' else dept }}</option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">医師名</label>
            <select x-model="settings.doctor"
                    class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500">
                <template x-for="doc in doctors" :key="doc">
                    <option :value="doc" x-text="doc === 'default' ? '医師共通' : doc"></option>
                </template>
            </select>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">文書名</label>
            <select x-model="settings.documentType"
                    class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500">
                {% for type in document_types %}
                <option value="{{ type }}">{{ type }}</option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">AIモデル</label>
            <select x-model="settings.model"
                    class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500">
                {% for model in available_models %}
                <option value="{{ model }}">{{ model }}</option>
                {% endfor %}
            </select>
        </div>
    </div>

    <nav class="mt-6 space-y-2">
        <a href="/" class="block p-2 rounded hover:bg-gray-100 {{ 'bg-blue-50 text-blue-600' if active_page == 'index' else '' }}">
            文書作成
        </a>
        <a href="/prompts" class="block p-2 rounded hover:bg-gray-100 {{ 'bg-blue-50 text-blue-600' if active_page == 'prompts' else '' }}">
            プロンプト管理
        </a>
        <a href="/statistics" class="block p-2 rounded hover:bg-gray-100 {{ 'bg-blue-50 text-blue-600' if active_page == 'statistics' else '' }}">
            統計情報
        </a>
    </nav>

    <p class="mt-6 text-xs text-gray-500">
        生成AIは不正確な場合があります。回答をカルテでご確認ください。
    </p>
</aside>
